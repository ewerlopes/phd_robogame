\chapter{Introduction}
\epigraph{\itshape Virtute enim ipsa non tam multi praediti esse quam videri volunt}{--- Cicero, De Amicitia, Cap. XCVIII}

What seems to be a natural evolution for game playing experience is to bring the elimination of screens and devices in order to present the users with the possibility to physically interact with autonomous agents in their homes without the need to produce a virtual reality. This pretty new style of games has been recently defined as~\gls{pirg} and has as the main objective the exploitation of the real world (in both its dynamical unstructured and structured aspects) as environment and one or more real, physical, autonomous robots as game opponents or companions~\citep{martinoia_physically_2013}.

Like commercial virtual games, the main aspect of~\gls{pirg}s is to produce a sense of entertainment and pleasure that can be ``consumed'' by a large number of users\footnote{In this work, since the player is an user for the gaming application both words ``player(s)'' and ``user(s)'' will be used interchangeably.}. Furthermore, an important aspect of autonomous robots and systems during the game should be, as expected, an exhibition of rational behavior and, in this sense, they must be capable enough to play the role of opponents or teammates effectively, since by practical means people tend to avoid to play with or against a dull entity~\citep{martinoia_physically_2013}.
To come up with better agents it's easy to think about extracting knowledge from the behavior of co-players and implementing some mechanism for modeling them, in particular their preference for specific low-level actions and interaction patterns. Being able to recognize co-player's intention may substantially improve the capacity of taking better decisions about the actions to take.  At least in the human's perspective, this ability is critical since interpersonal interaction presupposes understanding  motivations and high-level plans, as well as estimation of future events~\citep{sukthankar_plan_2014}.

When it comes to extract useful information from agent's behavior, one can see at least two main different, yet related, approaches: \begin{inparaenum}[\itshape a\upshape)]\item Modeling for competitive advantage and \item Modeling for experience optimization\end{inparaenum}. In the former, techniques for evaluating pay-offs from interaction patterns, such that provided from \textit{game theory}, play an important role not only to what concerns interactions with virtual agents, but real-world events involving humans as agents (e.g. trading, patrolling, competition) or physical robot entities. In order to get some competitive advantage against an adversary with private strategies and conflicting goals it is necessary to adapt to the dynamics of the situation caused by the game play~\citep{rofer_overview_2012}. In essence, this means that it is vital to pay attention to any information from the opponent's behavior that might help to optimize the decision making process and find appropriate countermeasures.

The focus on modeling behavior for experience optimization, is much related to the idea of extracting useful features from users in order to adjust parameters that are correlated with their experience in the activity, for the sake of offering a better product or helping the user to achieve some particular goals. In a gaming scenario, this notion is commonly applied when designers attempt to define a mechanism capable of adjusting the difficulty or general appearance of the game in the expectation of rising the player's entertainment. Very traditionally, the sense of game difficulty is designed to increase along the course of the experience, and it can either happen in a linear fashion or through steps represented by the levels or phases, where a player is forced to select the difficulty level through a set of discrete options (easy, medium, hard, very hard). However, given the observation that very often this ``static'' way of setting up a difficulty curve is not accurate enough and it may not account for the difference between players or even the different learning rates of each of them. In principle, it turns out useful and natural to think about coming up with modeling techniques that may empower the play experience. 

In summary, it would be important to have an autonomous robot playing in a~\gls{pirg} and able to automatically adjust its behavior such that it may likely match the user's skill and, by doing so, maintain the user engaged and entertained. Also, it is important to make this robot appear rational, possibly smart. 

In this thesis work, after providing a panorama of approaches that take inspiration from \textit{artificial intelligence} (AI) and \textit{machine learning} (ML) techniques in order to tackle the problem of modeling co-existing agent's behavior and activity in games and robots, we propose models and report of results showing effort in addressing the design of better agents for~\gls{pirg}.

The scope of this document is heavily centered on model proposals that can latently model player activities and general behavior. 

\section{Research questions, hypothesis and objectives}\label{sec:research_question}
Since in any kind of~\gls{pirg} autonomous robot are supposed to be perceived as smart entities, the key point for investigation deals with finding good answers to three main questions:

\begin{itemize}
\item How to discover player types and quantify player behavior in~\gls{pirg}?
\item How is it possible to adapt the behavior of the robot to optimize the satisfaction of the human players?
\item To what extent does adaptation impact reported entertainment?
\end{itemize}

From this, the objective of this thesis focuses on the exploitation of~\gls{ml} techniques to the design of better~\gls{pirg} robotic agents, which should engage playmates and possibly be capable of performing behavior/strategy adjustment. The hypothesis is that~\gls{ml} would help to decrease predictability in robot behavior and introduce game dynamics capable of considerably empower the userâ€™s engagement, making so that the agents can be well accepted as game companions.

%TODO Actually, the issue is a little bit more complex. If the robot behavior cannot be detected and decoded, the player would not like to play, as well as if it is to simple to understand. The equilibrium point is just on the middle, where decoding the robot behavior is challenging enough to require some effort, but not too much. A very smart robot, or a robot changing often its strategy, may be perceived as playing randomly, so not as a rational agent. The main issue is to enforce the idea that the robot is playing rationally (in the Simon's definition of having a goal).
%EWERTON: I added the paragraph below so to describe such requirement.

We emphasize that, in the process, a special attention has to be given to the behavior of the robot itself so that it is not likely to be interpreted by the player as a random one. In other words, when playing, the robot must show a level of rationality that match the expectation of the player and reduce the frequency of which the goal of its actions are not well perceived. Rationality here consists in the property of selecting actions upon the evaluation of worlds states by a \textit{performance measure}, also called \textit{utility function}~\citep{russell_artificial_2009}. In the~\gls{pirg} context, whatever performance measure is used it should drive the robot behavior towards well defined and interpretable action yet not so that the robot attitude becomes predictable. Predictability is reported to be a negative impact in the quality of engagement.   

Specifically, the general goals of this thesis where:

\begin{itemize}
\item To understand and report phenomena that impact player engagement through the use of a mobile adversarial robot in a~\gls{pirg} environment;
\item To investigate relevant concepts of design of mobile agents for~\gls{pirg};
\item To implement user's behavior modeling in~\gls{pirg} robots by reasoning about data coming from player tracking in the shortest possible time, as required by the~\gls{pirg} setting;
\item To explore ways of robot behavior adjustment using information about past interactions (player's typical behaviors, preferences, etc.).
\end{itemize}

It is assumed that autonomous and learning systems that encompass perception, action, and communication in a unified and principled way via~\gls{ml}-based techniques lay at the core of a new frontier for robotics, and~\gls{pirg}s in particular. During our investigation we also aimed at keeping control on technical constraints in order to enable the spread of~\gls{pirg} in the society, making them possibly reach the large scale market. In particular, we explored the use of cheap sensors and algorithms requiring little power ("green algorithms") to be executed in real time and operating in non-structured environments, 

\section{Thesis outline}
The thesis is structured into the following chapters.

\begin{itemize}
\item\emph{Chapter~\ref{ch:art}:} Some physically interactive games with robotic agents have been proposed in the literature. This chapter provides an introduction to such games and also presents some design guidelines. %Many approaches for modeling game experience to players had been proposed over the years. The chapter presents an overview of such literature, placing~\gls{pirg} as a relatively new area of research.
\item\emph{Chapter~\ref{ch:foundation}:} The game environment and robot platform are at the core of a~\gls{pirg} application. In this chapter, we detail the designed environment and adopted robotic platform.
\item\emph{Chapter~\ref{ch:playing_for_advantage}:} One dimension of concern for the design of~\gls{pirg} is the ability to play for competitive advantage. In this chapter we detail some of our concerns and provide a brief overview of popular approaches.
\item\emph{Chapter~\ref{ch:review_playing_optimization}:} In this chapter we give a structured overview of literature on the matter of player modeling as well as details regarding the position of our work on it.
\item\emph{Chapter~\ref{ch:activity}:} One step towards allowing effective player modeling is the implementation of an activity recognition system. In this chapter we describe the efforts on exploiting a simple input data transformation for the recognition of motion primitives in acceleration patterns akin to archetypal activities in the game scenario.
\item\emph{Chapter~\ref{ch:modeling}:} Player behavior modeling is the backbone of adaptive behavior strategy for playing robots. The chapter presents a new proposal for latent player behavior modeling.
%\item\emph{Chapter~\ref{ch:adaptation}:} Adaption is by no means a trivial task specially in the context of~\gls{pirg}. In this chapter, we detail a system to actively select game parameters appropriate for the specific human player.
\item\emph{Chapter~\ref{ch:deception}:} Engagement is believed to be related to several factors and one of such is the level of information about the opponent actions. In this chapter, we present a study case of the use of deceptive motion during play. Results indicate that on our particular game scenario the human capacity to correctly identify the robot deceptive intentions is blurred possibly by the intensive cognitive load demanded by the activity.
%\item\emph{Chapter~\ref{ch:key}:} The design of~\gls{pirg} is an intensive process. In this chapter we provide some key-issues regarding how one may develop successful engaging experiences.
\item\emph{Chapter~\ref{ch:future}:} Concludes the thesis and details further direction for our research.
\end{itemize}

\section{Paper contributions}

This thesis is based on expanded versions of the following publications:

\begin{itemize}
    \item \cite{oliveira_learning_2018}
    \item \cite{oliveira_modeling_2017}
    \item \cite{oliveira_activity_2017}
\end{itemize}

Work in progress:

\begin{itemize}
\item Adjusting robot playing behavior through latent skill modeling for increasing player satisfaction;
\item Key issues in designing engaging physically interactive robogames: a developmental account;
\item Using social interaction analysis and deception for entertainment support in a physically interactive robogame.
\end{itemize}